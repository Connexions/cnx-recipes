//@import url("common/numbering.less");
@import url("common/collations.less");

//numbering
div[data-type='chapter'] {
  .art-exercise, .multiple-choice, .free-response {
    //.x-numb ();
  }
}
// <cnx-pi data-type="cnx.eoc">class="summary" title="Sections Summary"</cnx-pi>
// <cnx-pi data-type="cnx.eoc">class="art-exercise" title="Art Connections"</cnx-pi>
// <cnx-pi data-type="cnx.eoc">class="multiple-choice" title="Multiple Choice"</cnx-pi>
// <cnx-pi data-type="cnx.eoc">class="free-response" title="Free Response"</cnx-pi>

//eoc
div[data-type='chapter'] {
  div[data-type="page"] {
    > div[data-type="document-title"] {
      node-set: sectionTitle;
    }
    section.summary {
      move-to: summary;
      &::after {
        class: summary;
        content: nodes(sectionTitle) pending(summary);
        move-to: eoc-summaries;
      }
    }
    section.art-exercise {
     move-to: trash;
    .exercise {
        move-to: eoc-art-exercise;
      }
    }
    section.multiple-choice {
      move-to: trash;
      .exercise {
        move-to: eoc-multiple-choice;
      }
    }
    section.free-response {
      move-to: trash;
      .exercise {
        move-to: eoc-free-response;
      }
    }
  }
  &::before {
    container: h1;
    class: summary-title;
    content: "Section Summary";
    move-to: summaryTitle;
  }
  &::before {
    container: h1;
    class: art-exercise-title;
    content: "Art Connections";
    move-to: artTitle;
  }
  &::before {
    container: h1;
    class: multiple-choice-title;
    content: "Mulitple Choice";
    move-to: multipleChoiceTitle;
  }
  &::before {
    container: h1;
    class: free-response-title;
    content: "Free Response";
    move-to: freeResponseTitle;
  }
  &::after {
    class: eoc-summary;
    content: pending(summaryTitle) pending(eoc-summaries);
    move-to: eoc-all;
  }
  &::after {
    content: pending(artTitle) pending(eoc-art-exercise);
    class: eoc-art-exercise;
    container: div;
    move-to: eoc-all;
  }
  &::after {
    content: pending(multipleChoiceTitle) pending(eoc-multiple-choice);
    class: eoc-multiple-choice;
    container: div;
    move-to: eoc-all;
  }
  &::after {
    content: pending(freeResponseTitle) pending(eoc-free-response);
    class: eoc-free-response;
    container: div;
    move-to: eoc-all;
  }
  &::after {
    content: pending(eoc-all);
    class: end-of-chapter;
    data-type: composite-page;
    container: div;
  }
}

