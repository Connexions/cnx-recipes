//[Document Usage]
@mixin count($name, $selector, $resetSelector) {
  //Improvement: Resetting isn't dry, recreates selector if more than one counter resets on one element
  #{$resetSelector} {
    counter-reset: $name;
  }
  #{$selector} {
    counter-increment: $name;
  }
}

//[Document Usage]
@mixin title($content, $bucket: null, $container: null, $containerType: null) {
    //Improvement: Restrict what things titlePart can be. Currently any key will work.
    @each $titlePart in map-keys($content) {
      &::before {
        container: span;
        content: map-get($content, $titlePart);
        class: $titlePart;
        @if ($bucket != null) {
          @if ($container != null and $containerType != null) {
            move-to: #{$bucket}-TITLECONTAINER
          } @else {
            move-to: $bucket;
          }
        }
      }
  }
  @if ($container != null and $containerType != null) {
    &::before {
      container: $container;
      data-type: $containerType;
      content: pending(#{$bucket}-TITLECONTAINER);
      move-to: $bucket;
    }
  }
}

@mixin linkToFrom($toSelector, $fromSelector, $toName, $toCounter: null) {
  #{$toSelector} {
    @if ($toCounter != null) {
      $toID: "#{$toName}-"counter($toCounter);
      attr-id: $toID;
      string-set: #{$toName}-ID $toID;
    } @else {
      string-set: #{$toName}-ID attr(id);
    }

  }
  #{$fromSelector} {
    &::outside {
      container: a;
      attr-href: "#" string(#{$toName}-ID);
    }
  }
}

@mixin refNodeAs($name) {
  node-set: $name;
}

@mixin refStringAs($name, $string) {
  string-set: $name $string;
}

@mixin clearTrash() {
  body::after {
    content: clear(trash);
  }
}
