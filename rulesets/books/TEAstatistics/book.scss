@import '../../mixins/_all';
@import './_config';
@import '../_generator';


//ad hoc TEA specific requirements for the TEG Gateway imports process
:pass(3) {
  .appendix {
    &::inside {
      container: section;
      class: "appendix-container";
    }
  }
}
:pass(4) {
  .appendix {
    .appendix-container {
    > h1[data-type="document-title"] {
      move-to: appendixMainTitle;
      node-set: appendixHeaderNode;
    }
    [data-type="metadata"] {
      move-to: appendixMetadata;
    }
   }
   &:deferred {
    content: pending(appendixMainTitle) pending(appendixMetadata) content();
   }
  }
}

:pass(5) {
  .appendix {
    > h1[data-type="document-title"] {
      node-set: appendixSubTitle;
    }
     .appendix-container {
      content: nodes(appendixSubTitle) content();
    }
  }
}